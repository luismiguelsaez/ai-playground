# prometheus/prometheus.yml
global:
  scrape_interval: 15s
  evaluation_interval: 15s

scrape_configs:
  # -------------------------------------------------
  # Node exporter (system metrics)
  # -------------------------------------------------
  - job_name: 'node'
    static_configs:
      - targets: ['node-exporter:9100']   # Docker‑internal DNS resolves to the container
        labels:
          env: 'local'

  # -------------------------------------------------
  # DCGM exporter – GPU metrics
  # -------------------------------------------------
  - job_name: 'dcgm'
    static_configs:
      - targets: ['dcgm-exporter:9400']
        labels:
          env: 'local'

  # -------------------------------------------------
  # (Optional) Alertmanager – if you keep it in the stack
  # -------------------------------------------------
  - job_name: 'alertmanager'
    static_configs:
      - targets: ['alertmanager:9093']

